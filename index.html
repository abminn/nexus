<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexus Games Launcher</title>
    <style>
        body, html { margin: 0; padding: 0; height: 100%; width: 100%; overflow: hidden; background: #111; }
        iframe { border: none; width: 100%; height: 100%; }
        #loader { 
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            color: white; font-family: sans-serif; 
        }
    </style>
</head>
<body>

    <div id="loader">say gurney 10x fast brochacho</div>
    <iframe id="app-frame" style="display:none;"></iframe>

    <script>
        // The jsDelivr path for your specific file
        const GITHUB_URL = 'https://cdn.jsdelivr.net/gh/abminn/Nexus-Games@main/nexus.html';
        const BASE_PATH = 'https://cdn.jsdelivr.net/gh/abminn/Nexus-Games@main/';

        async function loadGame() {
            const frame = document.getElementById('app-frame');
            const loader = document.getElementById('loader');

            try {
                const response = await fetch(GITHUB_URL);
                if (!response.ok) throw new Error('Failed to fetch from GitHub');
                
                let html = await response.text();

                /**
                 * We inject a <base> tag. This is CRITICAL. 
                 * It tells the browser: "Even though this code is running here,
                 * look for all images/scripts/css at the GitHub link."
                 */
                const baseTag = `<base href="${BASE_PATH}">`;
                if (html.includes('<head>')) {
                    html = html.replace('<head>', `<head>${baseTag}`);
                } else {
                    html = baseTag + html;
                }

                // Use srcdoc to inject the modified HTML into the iframe
                frame.srcdoc = html;
                
                frame.onload = () => {
                    loader.style.display = 'none';
                    frame.style.display = 'block';
                };

            } catch (err) {
                console.error(err);
                loader.innerHTML = 'Error loading content. Make sure the repo is Public.';
            }
        }

        loadGame();
    </script>
</body>
</html>
